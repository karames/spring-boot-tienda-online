<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentaci√≥n - Tienda Online</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
</head>

<body>
    <nav class="main-nav">
        <div class="nav-center">
            <a href="/" id="inicio-link">üè† Inicio</a>
            <a href="productos.html" id="productos-link" style="display:none;">üì¶ Productos</a>
            <a href="pedidos.html" id="pedidos-link" style="display:none;">üìã Mis pedidos</a>
            <a href="admin.html" id="admin-link" style="display:none;">‚öôÔ∏è Admin</a>
            <a href="login.html" id="login-link">üîê Iniciar sesi√≥n</a>
            <a href="register.html" id="register-link">üìù Registrarse</a>
            <a href="documentacion.html" id="docs-link" class="active">üìö Documentaci√≥n</a>
        </div>
        <div id="user-menu" class="user-menu" style="display:none;">
            <button id="user-menu-btn" class="user-menu-btn">
                <span id="user-info"></span>
                <span style="margin-left:0.4em;">‚ñº</span>
            </button>
            <div id="user-menu-dropdown" class="user-menu-dropdown" style="display:none;">
                <button onclick="logout()">Cerrar sesi√≥n</button>
            </div>
        </div>
    </nav>

    <div class="welcome-container">
        <header class="welcome-header">
            <h1>üìö Documentaci√≥n de la Tienda Online</h1>
            <p>Gu√≠a completa para usar la aplicaci√≥n web de tienda online</p>
        </header>
    </div>

    <div class="container">

        <div class="documentation-content">
            <!-- Informaci√≥n General -->
            <section class="doc-section">
                <h2>üéØ Informaci√≥n General</h2>
                <p>Esta es una aplicaci√≥n web completa de tienda online desarrollada con <strong>Spring Boot</strong> y
                    <strong>MongoDB</strong>. Permite a los usuarios navegar productos, realizar pedidos y a los
                    administradores gestionar el inventario.
                </p>

                <div class="tech-stack">
                    <h3>üõ†Ô∏è Tecnolog√≠as utilizadas:</h3>
                    <ul>
                        <li><strong>Backend:</strong> Spring Boot, Spring Security, Spring Data MongoDB</li>
                        <li><strong>Base de datos:</strong> MongoDB (NoSQL)</li>
                        <li><strong>Frontend:</strong> HTML5, CSS3, JavaScript (Vanilla)</li>
                        <li><strong>Autenticaci√≥n:</strong> JWT (JSON Web Tokens)</li>
                        <li><strong>Seguridad:</strong> Control de roles y endpoints protegidos</li>
                    </ul>
                </div>
            </section>

            <!-- Usuarios y Roles -->
            <section class="doc-section">
                <h2>üë• Usuarios y Roles</h2>

                <div class="user-types">
                    <div class="user-type-card">
                        <h3>üõ°Ô∏è Administrador (ADMIN)</h3>
                        <p><strong>Credenciales por defecto:</strong></p>
                        <ul>
                            <li>Usuario: <code>admin</code></li>
                            <li>Contrase√±a: <code>admin</code></li>
                        </ul>
                        <p><strong>Permisos:</strong></p>
                        <ul>
                            <li>‚úÖ Gesti√≥n completa de productos (crear, editar, eliminar)</li>
                            <li>‚úÖ Ver todos los pedidos del sistema</li>
                            <li>‚úÖ Cambiar estados de pedidos (PENDIENTE ‚Üî ENVIADO)</li>
                            <li>‚úÖ Acceso al panel de administraci√≥n</li>
                            <li>‚úÖ Ver estad√≠sticas y dashboard</li>
                        </ul>
                    </div>

                    <div class="user-type-card">
                        <h3>üõçÔ∏è Cliente (CLIENTE)</h3>
                        <p><strong>Credenciales por defecto:</strong></p>
                        <ul>
                            <li>Usuario: <code>cliente</code></li>
                            <li>Contrase√±a: <code>cliente</code></li>
                        </ul>
                        <p><strong>Permisos:</strong></p>
                        <ul>
                            <li>‚úÖ Ver cat√°logo de productos</li>
                            <li>‚úÖ A√±adir productos al carrito</li>
                            <li>‚úÖ Realizar pedidos</li>
                            <li>‚úÖ Ver historial de pedidos propios</li>
                            <li>‚ùå No puede gestionar productos</li>
                            <li>‚ùå No puede ver pedidos de otros usuarios</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Funcionalidades -->
            <section class="doc-section">
                <h2>üöÄ Funcionalidades Principales</h2>

                <div class="features-grid">
                    <div class="feature-card">
                        <h3>üõí Carrito de Compras</h3>
                        <ul>
                            <li>A√±adir productos con cantidades espec√≠ficas</li>
                            <li>Carrito flotante con vista previa</li>
                            <li>C√°lculo autom√°tico de totales</li>
                            <li>Validaci√≥n de stock disponible</li>
                            <li>Persistencia durante la sesi√≥n</li>
                        </ul>
                    </div>

                    <div class="feature-card">
                        <h3>üì¶ Gesti√≥n de Productos</h3>
                        <ul>
                            <li>Cat√°logo completo con informaci√≥n detallada</li>
                            <li>CRUD completo para administradores</li>
                            <li>Control de inventario y stock</li>
                            <li>Formularios intuitivos para gesti√≥n</li>
                            <li>Productos de prueba precargados</li>
                        </ul>
                    </div>

                    <div class="feature-card">
                        <h3>üìã Sistema de Pedidos</h3>
                        <ul>
                            <li>Creaci√≥n de pedidos desde el carrito</li>
                            <li>Estados: PENDIENTE y ENVIADO</li>
                            <li>Historial completo para clientes</li>
                            <li>Gesti√≥n administrativa de todos los pedidos</li>
                            <li>Informaci√≥n detallada de cada pedido</li>
                        </ul>
                    </div>

                    <div class="feature-card">
                        <h3>üîê Seguridad</h3>
                        <ul>
                            <li>Autenticaci√≥n JWT</li>
                            <li>Control de roles granular</li>
                            <li>Endpoints protegidos por m√©todo HTTP</li>
                            <li>Sesiones seguras</li>
                            <li>Contrase√±as encriptadas</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Navegaci√≥n -->
            <section class="doc-section">
                <h2>üß≠ Gu√≠a de Navegaci√≥n</h2>

                <div class="navigation-guide">
                    <div class="nav-step">
                        <h3>1Ô∏è‚É£ P√°gina Principal</h3>
                        <p>Punto de entrada con enlaces a todas las secciones. Muestra el estado de autenticaci√≥n.</p>
                    </div>

                    <div class="nav-step">
                        <h3>2Ô∏è‚É£ Registro e Inicio de Sesi√≥n</h3>
                        <p>Crear cuenta nueva o usar credenciales existentes. El sistema reconoce autom√°ticamente el
                            rol.</p>
                    </div>

                    <div class="nav-step">
                        <h3>3Ô∏è‚É£ Productos</h3>
                        <p>Cat√°logo completo con carrito de compras. Los admin pueden gestionar productos.</p>
                    </div>

                    <div class="nav-step">
                        <h3>4Ô∏è‚É£ Pedidos</h3>
                        <p>Vista diferenciada: clientes ven sus pedidos, admin ve todos los pedidos.</p>
                    </div>

                    <div class="nav-step">
                        <h3>5Ô∏è‚É£ Panel Admin</h3>
                        <p>Dashboard exclusivo para administradores con estad√≠sticas y gesti√≥n avanzada.</p>
                    </div>
                </div>
            </section>

            <!-- API Endpoints -->
            <section class="doc-section">
                <h2>üîå API REST Endpoints</h2>

                <div class="api-section">
                    <h3>üîê Autenticaci√≥n</h3>
                    <ul>
                        <li><code>POST /api/auth/register</code> - Registro de usuarios</li>
                        <li><code>POST /api/auth/login</code> - Inicio de sesi√≥n</li>
                    </ul>
                </div>

                <div class="api-section">
                    <h3>üì¶ Productos</h3>
                    <ul>
                        <li><code>GET /api/productos</code> - Listar productos (p√∫blico)</li>
                        <li><code>POST /api/productos</code> - Crear producto (ADMIN)</li>
                        <li><code>PUT /api/productos/{id}</code> - Actualizar producto (ADMIN)</li>
                        <li><code>DELETE /api/productos/{id}</code> - Eliminar producto (ADMIN)</li>
                    </ul>
                </div>

                <div class="api-section">
                    <h3>üìã Pedidos</h3>
                    <ul>
                        <li><code>GET /api/pedidos</code> - Listar pedidos (rol espec√≠fico)</li>
                        <li><code>POST /api/pedidos</code> - Crear pedido (CLIENTE)</li>
                        <li><code>PUT /api/pedidos/{id}/estado</code> - Cambiar estado (ADMIN)</li>
                    </ul>
                </div>
            </section>

            <!-- Datos de Prueba -->
            <section class="doc-section">
                <h2>üß™ Datos de Prueba</h2>

                <p>La aplicaci√≥n se inicializa autom√°ticamente con:</p>

                <div class="test-data">
                    <h3>üë• Usuarios:</h3>
                    <ul>
                        <li><strong>Admin:</strong> admin / admin</li>
                        <li><strong>Cliente:</strong> cliente / cliente</li>
                    </ul>

                    <h3>üì¶ Productos (10 productos):</h3>
                    <ul>
                        <li>Laptop Gaming - $1,299.99 (15 unidades)</li>
                        <li>Smartphone Android - $599.99 (25 unidades)</li>
                        <li>Auriculares Bluetooth - $199.99 (40 unidades)</li>
                        <li>Tablet 10 pulgadas - $299.99 (20 unidades)</li>
                        <li>Teclado Mec√°nico - $89.99 (30 unidades)</li>
                        <li>Mouse Gaming - $59.99 (35 unidades)</li>
                        <li>Monitor 4K - $399.99 (12 unidades)</li>
                        <li>Webcam HD - $79.99 (18 unidades)</li>
                        <li>Cargador Inal√°mbrico - $29.99 (50 unidades)</li>
                        <li>Disco SSD 1TB - $99.99 (25 unidades)</li>
                    </ul>
                </div>
            </section>

            <!-- Instalaci√≥n -->
            <section class="doc-section">
                <h2>‚öôÔ∏è Instalaci√≥n y Ejecuci√≥n</h2>

                <div class="installation-steps">
                    <h3>üìã Requisitos previos:</h3>
                    <ul>
                        <li>Java 17 o superior</li>
                        <li>Maven 3.6 o superior</li>
                        <li>MongoDB 4.4 o superior (ejecut√°ndose en puerto 27017)</li>
                    </ul>

                    <h3>üöÄ Ejecutar la aplicaci√≥n:</h3>
                    <pre><code>mvn clean spring-boot:run</code></pre>

                    <p><strong>La aplicaci√≥n estar√° disponible en:</strong> <a href="http://localhost:8080"
                            target="_blank">http://localhost:8080</a></p>
                </div>
            </section>
        </div>
    </div>

    <script src="js/auth.js"></script>
</body>

</html>
