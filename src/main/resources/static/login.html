<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iniciar Sesión - Tienda Online</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
</head>

<body>
    <nav class="main-nav">
        <div class="nav-center">
            <a href="/" id="inicio-link">🏠 Inicio</a>
            <a href="pedidos.html" id="pedidos-link" style="display:none;">📋 Mis pedidos</a>
            <a href="admin.html" id="admin-link" style="display:none;">⚙️ Admin</a>
            <a href="login.html" id="login-link">🔐 Iniciar sesión</a>
            <a href="register.html" id="register-link">📝 Registrarse</a>
            <a href="documentacion.html" id="docs-link">📚 Documentación</a>
            <a href="productos.html" id="productos-link">📦 Productos</a>
        </div>
        <div id="user-menu" class="user-menu" style="display:none;">
            <button id="user-menu-btn" class="user-menu-btn">
                <span id="user-info"></span>
                <span style="margin-left:0.4em;">▼</span>
            </button>
            <div id="user-menu-dropdown" class="user-menu-dropdown" style="display:none;">
                <button onclick="logout()">Cerrar sesión</button>
            </div>
        </div>
    </nav>
    <div class="welcome-container">
        <!-- SECCIÓN: INICIAR SESIÓN (fuera del cuadro principal) -->
        <div class="login-standalone-form">
            <div class="section-header">
                <h2>🔐 Iniciar Sesión</h2>
                <p class="section-description">Accede a tu cuenta para comenzar a comprar</p>
            </div>
            <div class="auth-card" style="box-shadow:none;background:none;padding-top:0;max-width:500px;width:100%;">
                <form id="login-form" class="auth-form">
                    <div class="form-group">
                        <label for="username">Usuario</label>
                        <div class="input-with-icon">
                            <span class="input-icon">👤</span>
                            <input type="text" id="username" placeholder="Ingresa tu nombre de usuario" required
                                autocomplete="username">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="password">Contraseña</label>
                        <div class="input-with-icon">
                            <span class="input-icon">🔒</span>
                            <input type="password" id="password" placeholder="Ingresa tu contraseña" required
                                autocomplete="current-password">
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary btn-full-width">
                        🚀 Iniciar Sesión
                    </button>
                </form>
                <div id="login-error" class="error-message" style="display:none"></div>
                <div class="auth-footer" style="margin-top:0.3em;">
                    <p>¿No tienes una cuenta? <a href="register.html" class="link">📝 Regístrate aquí</a></p>
                </div>
            </div>
        </div>

        <!-- SEPARADOR VISUAL -->
        <div class="section-divider" style="margin:1em 0 1.5em 0;"></div>

        <!-- SECCIÓN: CUENTAS DE PRUEBA -->
        <section class="welcome-section demo-accounts-section section-box" style="margin-top:1em;">
            <div class="section-header">
                <h2>🧪 Cuentas de Prueba</h2>
                <p class="section-description">Utiliza estas credenciales para probar rápidamente las funcionalidades
                </p>
            </div>
            <div class="users-grid-responsive">
                <div class="user-card-simple admin-card">
                    <h3>👨‍💼 Administrador</h3>
                    <div class="credentials-simple">
                        <p><strong>Usuario:</strong> <code>admin</code></p>
                        <p><strong>Contraseña:</strong> <code>admin</code></p>
                    </div>
                    <button type="button" onclick="fillCredentials('admin', 'admin')"
                        class="btn btn-primary btn-full-width" style="margin-top: 1rem;">
                        ✨ Usar credenciales
                    </button>
                </div>
                <div class="user-card-simple client-card">
                    <h3>👤 Cliente</h3>
                    <div class="credentials-simple">
                        <p><strong>Usuario:</strong> <code>cliente</code></p>
                        <p><strong>Contraseña:</strong> <code>cliente</code></p>
                    </div>
                    <button type="button" onclick="fillCredentials('cliente', 'cliente')"
                        class="btn btn-primary btn-full-width" style="margin-top: 1rem;">
                        ✨ Usar credenciales
                    </button>
                </div>
            </div>
        </section>
    </div>

    <!-- PIE DE PÁGINA -->
    <footer class="modern-footer">
        <div class="footer-bottom">
            <p>&copy; 2025 Tienda Online - Desarrollado con Spring Boot</p>
        </div>
    </footer>

    <script>
        // Función para rellenar credenciales de prueba
        function fillCredentials(username, password) {
            document.getElementById('username').value = username;
            document.getElementById('password').value = password;

            // Añadir efecto visual
            const usernameField = document.getElementById('username');
            const passwordField = document.getElementById('password');

            usernameField.classList.add('highlight');
            passwordField.classList.add('highlight');

            setTimeout(() => {
                usernameField.classList.remove('highlight');
                passwordField.classList.remove('highlight');
            }, 1000);
        }

        // Limpiar localStorage al cargar la página de login (opcional)
        document.addEventListener('DOMContentLoaded', () => {
            console.log('Página de login cargada');
            // localStorage.clear(); // Descomenta si quieres limpiar al acceder al login
        });
    </script>
    <script src="js/app.js"></script>
    <script src="js/auth.js"></script>
</body>

</html>
